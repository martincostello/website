@inject IConfiguration Config
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.1/js/bootstrap.bundle.min.js" integrity="sha512-1TK4hjCY5+E9H3r5+05bEGbKGyK506WaDPfPe1s/ihwRjr6OtL43zJLzOFQ+/zciONEd+sp7LwrfOCnyukPSsg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
@{
    bool renderGA = string.Equals(Config.AzureEnvironment(), "production", StringComparison.OrdinalIgnoreCase);
    SiteOptions options = Options.Value;
}
@if (renderGA)
{
    <script src="https://www.googletagmanager.com/gtag/js?id=@(options.Analytics?.Google)" defer></script>
    <script>
        var trackingId = document.querySelector('meta[name="google-analytics"]').getAttribute('content');
        if (trackingId) {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '@(options.Analytics?.Google)');
        }
    </script>
}
<script src="~/assets/js/site.js" asp-append-version="true" defer></script>
