@inherits RazorSlice<MetaModel>
@inject IConfiguration Config

@{
    bool renderGA = string.Equals(Config.AzureEnvironment(), "production", StringComparison.OrdinalIgnoreCase);
    var options = Options.Value;
    var request = HttpContext!.Request;
}
<title>@(Model.Title)</title>
<meta http-equiv="cache-control" content="no-cache, no-store" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="author" content="@(Model.Author)" />
<meta name="bitcoin" content="@(Model.Bitcoin)" />
<meta name="copyright" content="&copy; @(Model.Author) @(DateTimeOffset.UtcNow.Date.Year)" />
<meta name="description" content="@(Model.Description)" />
<meta name="language" content="en" />
<meta name="keywords" content="@(Model.Keywords)" />
<meta name="referrer" content="no-referrer-when-downgrade" />
<meta name="robots" content="@(Model.Robots)" />
<meta name="theme-color" content="#ffffff" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta property="fb:profile_id" content="@(Model.Facebook)" />
<meta property="og:description" content="@(Model.Description)" />
<meta property="og:image" content="@(request.CdnContent("martin_small-v3.png", options))" />
<meta property="og:image:type" content="image/png" />
<meta name="twitter:image" content="@(request.CdnContent("martin_small-v3.png", options))" />
<meta name="twitter:image:alt" content="@(Model.Author)" />
<meta property="og:locale" content="en_GB" />
<meta property="og:site_name" content="@(Model.SiteName)" />
<meta property="og:title" content="@(Model.Title)" />
<meta property="og:type" content="@(Model.SiteType)" />
<meta property="og:url" content="@(Model.CanonicalUri)" />
<meta name="twitter:card" content="@(Model.TwitterCard)" />
<meta name="twitter:creator" content="@(Model.TwitterHandle)" />
<meta name="twitter:description" content="@(Model.Description)" />
<meta name="twitter:domain" content="@(Model.HostName)" />
<meta name="twitter:site" content="@(Model.TwitterHandle)" />
<meta name="twitter:title" content="@(Model.Title)" />
<meta name="twitter:url" content="@(Model.CanonicalUri)" />
<meta name="application-name" content="@(Model.SiteName)" />
<meta name="google-analytics" content="@(renderGA ? options.Analytics?.Google : string.Empty)" />
<meta name="google-site-verification" content="ao6JIWbKFHZ8DmbV52hf43MrjiHCFRf0GiJYYHDeRMo" />
<meta name="google-site-verification" content="I9S9DiGCLTG_JdMlSwt2YnNVcyFPo1DT1jeHa_X-p_0" />
<meta name="google-site-verification" content="ji6SNsPQEbNQmF252sQgQFswh-b6cDnNOa3AHvgo4J0" />
<meta name="msapplication-config" content="@(request.Content("~/browserconfig.xml"))" />
<meta name="msapplication-navbutton-color" content="#2b5797" />
<meta name="msapplication-starturl" content="/" />
<meta name="msapplication-TileColor" content="#2b5797" />
<meta name="msapplication-TileImage" content="@(request.CdnContent("mstile-144x144.png", options))" />
<meta name="x-site-branch" content="@(GitMetadata.Branch)" />
<meta name="x-site-revision" content="@(GitMetadata.Commit)" />
<script type="application/ld+json">
{
    "@@context": "http://schema.org",
    "@@type": "WebSite",
    "name": "@(Model.SiteName)",
    "alternateName": "@(Model.Description)",
    "description": "@(Model.Description)",
    "image": "@options.Metadata?.Author?.Avatar",
    "url": "@options.Metadata?.Author?.Website"
}
</script>
<script type="application/ld+json">
{
    "@@context": "http://schema.org/",
    "@@type": "Person",
    "name": "@(Model.Author)",
    "address": {
        "addressCountry": "GB",
        "addressLocality": "London"
    },
    "alumniOf": {
        "name": "University of Birmingham",
        "address": {
            "addressCountry": "GB",
            "addressLocality": "Birmingham",
            "postalCode": "B15 2TT"
        },
        "telephone": "0121 414 3344",
        "url": "http://www.birmingham.ac.uk/"
    },
    "familyName": "Costello",
    "gender": "http://schema.org/Male",
    "givenName": "Martin",
    "honorificPrefix": "Mr",
    "honorificSuffix": "BSc (Hons)",
    "image": "@(options.Metadata?.Author?.Avatar)",
    "jobTitle": "Staff Engineer",
    "nationality": "British",
    "sameAs": [
        "@(options.ExternalLinks?.Blog?.AbsoluteUri)",
        "https://www.facebook.com/people/Martin-Costello/100013295526556",
        "https://github.com/martincostello",
        "https://keybase.io/martincostello",
        "https://www.linkedin.com/in/martin-costello",
        "https://twitter.com/martin_costello"
    ],
    "url": "@(options.Metadata?.Author?.Website)"
}
</script>
